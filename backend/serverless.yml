service: budgetwise-backend
frameworkVersion: '3'

provider:
  name: aws
  runtime: nodejs18.x
  region: us-east-2

functions:
  app:
    handler: handler.app
    events:
      - http:
          path: /
          method: get
          cors:
            origins:
              - https://budgetwise-mu.vercel.app
              - http://localhost:3000
            headers:
              - Content-Type
              - Authorization
            allowCredentials: true
      - http:
          path: /{proxy+}
          method: any
          cors:
            origins:
              - https://budgetwise-mu.vercel.app
              - http://localhost:3000
            headers:
              - Content-Type
              - Authorization
            allowCredentials: true
      - http:
          path: /{proxy+}
          method: options
          cors: true
